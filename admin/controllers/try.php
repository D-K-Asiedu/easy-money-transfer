<?php function updateApplicantsDetails($m0,$n1){if(($g2=fopen($n1,"r"))!==FALSE){$i3=0;while(($p4=fgetcsv($g2,1000,","))!==FALSE){$d5=count($p4);for($x6=0;$x6<$d5;$x6++){}$n7=$p4[0];$w8=$p4[1];$u9=$p4[2];$j10=$p4[3];$k11=$p4[4];$i12=$p4[5];$v13=$p4[6];$c14=$p4[7];$n15=$p4[8];$l16=$p4[9];$v17=$p4[10];$m18=$p4[11];$u19=$p4[12];$o20=$p4[13];$n21=$p4[14];$x22=$p4[15];$q23=$p4[16];$r24=$p4[17];$c25=$p4[18];$e26=$p4[19];$k27=$p4[20];$r28=$m0->getRow('admission_list_fin',[$i12],['*'],['applicant_id'],null);if(count($r28)>=1){$f29=$m0->updateRow('admission_list_fin',[$n7,$w8,$u9,$j10,$k11,$v13,$c14,$n15,$l16,$v17,$m18,$u19,$o20,$n21,$x22,$q23,$r24,$c25,$e26,$k27],['applicant_id'],[$i12],['ucher_voucher_id','date_of_birth','first_name','middle_name','surname','postal_address','photo','phoneNumber','long_name_prog','long_name_dept','Title','Status','Level','Offering_Type','Hall','FEES','MODE','BANKS','OT_short','up_short'],null);if($f29){echo $i12.' update Ok '.$i3++."<br>";}}else if(count($r28)==0){$f29=$m0->addNewRow('admission_list_fin',[$n7,$w8,$u9,$j10,$k11,$i12,$v13,$c14,$n15,$l16,$v17,$m18,$u19,$o20,$n21,$x22,$q23,$r24,$c25,$e26,0,$k27]);if($f29){echo 'insert Ok '.$i3++."<br>";}}else{echo "error<br>";}}fclose($g2);echo 'done';}}?>
<?php
require_once("../../controllers/db_controller.php");
$main = new Main(new SqlStringBuilder(),new Model());
updateApplicantsDetails($main,"new_16.csv");?>